---
form:
  - SINGULARITY_IMAGE
  - desktop
  - slurm_account
  - slurm_partition
  - slurm_reservation
  - bc_num_hours
  - bc_num_cores
  - mem
  - num_gpus
  - bc_vnc_idle
  - bc_vnc_resolution
  - bc_email_on_started
  - SINGULARITY_OPTIONS
attributes:
  SINGULARITY_IMAGE:
     widget: "select"
     options:
     - [ "latest", "/sdf/sw/images/x11-docker/x11-docker@latest.sif" ]
     - [ "20231115-0", "/sdf/sw/images/x11-docker/x11-docker@20231115-0.sif" ]
  SINGULARITY_OPTIONS:
    widget: "hidden_field"
    value: " "
  desktop:
    widget: "select"
    label: Desktop Environment 
    options:
    - ["xfce","xfce"]
    help: |
      Chose whether to use [xfce] or [mate] for your desktop
      [xfce]: https://www.xfce.org/
      [mate]: https://ubuntu-mate.org/
  bc_vnc_idle: 1800
  bc_vnc_resolution:
    required: true
  slurm_account:
    label: "Account"
    help: Slurm account to use 
  slurm_partition:
    label: "Partition"
    help: |
      Slurm [Partition] to launch the Desktop on

      [Partition]: /public/doc/#/batch-compute?id=partition
  slurm_reservation:
    label: "Reservation"
  bc_num_hours:
    widget: "number_field"
    help: |
      Number of hours for which the Desktop instance will run for. Note that after 30 mins of inactivity, the Desktop will automatically terminate.
  bc_num_slots: 1
  bc_num_cores:
    widget: "number_field"
    label: "Number of CPU cores"
    value: 1
    help: |
      Number of cpu cores available for Desktop instance
    min: 1
    max: 120
    step: 1
  mem:
    widget: "number_field"
    label: "Total Memory to allocate"
    value: "2048"
    help:
      Total memory for Desktop instance in metabytes
    min: 128
    max: 256000
    step: 128
  num_gpus:
    widget: "number_field"
    label: "Number of GPUs"
    value: 0
    help: |
      Number of GPUs requested
    min: 0
    max: 10
    step: 1
